package com.xmy.blog.service;import com.xmy.blog.NotFounfExcetion;import com.xmy.blog.dao.TagRepository;import com.xmy.blog.po.Tag;import org.springframework.beans.BeanUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.domain.Page;import org.springframework.data.domain.Pageable;import org.springframework.transaction.annotation.Transactional;/** * @author xmy * @date 2021/3/17 10:28 上午 */public class TagServiceImpl implements TagService {    @Autowired    private TagRepository tagRepository;    //将这些操作放入事务中    @Transactional    @Override    public Tag saveTag(Tag tag) {        return tagRepository.save(tag);    }    @Transactional    @Override    public Tag getTag(Long id) {        return tagRepository.getOne(id);    }    @Transactional    @Override    public Tag getTagByName(String name) {        return tagRepository.findByName(name);    }    @Transactional    @Override    public Page<Tag> listTag(Pageable pageable) {        return tagRepository.findAll(pageable);    }    @Transactional    @Override    public Tag updateType(Long id, Tag tag) {        Tag tag1 = tagRepository.getOne(id);        if (tag1 == null) {            throw new NotFounfExcetion("不存在该类型");        }        BeanUtils.copyProperties(tag,tag1);        return tagRepository.save(tag1);    }    @Transactional    @Override    public void deleteTag(Long id) {        tagRepository.deleteById(id);    }}